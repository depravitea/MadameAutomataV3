import { SlashCommandBuilder, PermissionFlagsBits } from 'discord.js'; import { prisma } from '../lib/db.js'; export const data=new SlashCommandBuilder().setName('dynamic-unprotect').setDescription('Remove protection status').addUserOption(o=>o.setName('sub').setDescription('Submissive').setRequired(true)).setDefaultMemberPermissions(PermissionFlagsBits.ManageGuild); export async function execute(i){ const sub=i.options.getUser('sub',true); await prisma.consent.updateMany({ where:{ guildId:i.guildId!, userId:sub.id, limits:'PROTECTED' }, data:{ limits:'' } }); await i.reply({ content:`${sub} protection removed.`}); }
